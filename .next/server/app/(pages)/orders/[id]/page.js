(()=>{var e={};e.id=3599,e.ids=[3599],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},73352:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>_,originalPathname:()=>m,pages:()=>p,routeModule:()=>u,tree:()=>c});var s=t(73137),n=t(54647),i=t(4183),o=t.n(i),a=t(71775),d={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);t.d(r,d);let l=s.AppPageRouteModule,c=["",{children:["(pages)",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55968)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\orders\\[id]\\page.tsx"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.bind(t,45653)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,82645)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\orders\\[id]\\page.tsx"],m="/(pages)/orders/[id]/page",_={require:t,loadChunk:()=>Promise.resolve()},u=new l({definition:{kind:n.x.APP_PAGE,page:"/(pages)/orders/[id]/page",pathname:"/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},20890:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,41297,23)),Promise.resolve().then(t.t.bind(t,42796,23)),Promise.resolve().then(t.bind(t,39496)),Promise.resolve().then(t.bind(t,94011)),Promise.resolve().then(t.bind(t,70966)),Promise.resolve().then(t.bind(t,59974))},17092:e=>{e.exports={orders:"_id__orders__MOL3L",id:"_id__id__1YtEs",itemMeta:"_id__itemMeta__pqwyd",total:"_id__total__yb0D8",orderItems:"_id__orderItems__LJgK1",row:"_id__row__6BzG_",rowContent:"_id__rowContent__jVLFu",mediaWrapper:"_id__mediaWrapper__PYEAv",warning:"_id__warning__0RRW2",placeholder:"_id__placeholder__w__oy",media:"_id__media__2Dqmi",image:"_id__image__7p9Kx",title:"_id__title__zxeWJ",titleLink:"_id__titleLink__LYQEt",actions:"_id__actions__5kG_b"},e.exports.__checksum="2ea126caf31d"},39593:e=>{e.exports={hr:"HR_hr__KdVl9"},e.exports.__checksum="6f3e37085b8c"},72345:(e,r,t)=>{"use strict";let{createProxy:s}=t(17536);e.exports=s("C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\node_modules\\next\\dist\\client\\link.js")},44602:(e,r,t)=>{"use strict";e.exports=t(72345)},55968:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>j,generateMetadata:()=>v});var s=t(48144),n=t(53830),i=t(44602),o=t.n(i),a=t(6465),d=t(40600),l=t(53205),c=t(49267),p=t(56355),m=t(80623),_=t(6993),u=t(1978),h=t(62208),x=t(17092),g=t.n(x);async function j({params:{id:e}}){let{token:r}=await (0,u.S)({nullUserRedirect:`/login?error=${encodeURIComponent("You must be logged in to view this order.")}&redirect=${encodeURIComponent(`/order/${e}`)}`}),t=null;try{t=await fetch(`http://localhost:3000/api/orders/${e}`,{headers:{"Content-Type":"application/json",Authorization:`JWT ${r}`}})?.then(async e=>{e.ok||a.notFound();let r=await e.json();return"error"in r&&r.error&&a.notFound(),"errors"in r&&r.errors&&a.notFound(),r})}catch(e){console.error(e)}return t||(0,a.notFound)(),(0,s.jsxs)(l.T,{className:g().orders,children:[(0,s.jsxs)("h1",{children:["Order",s.jsx("span",{className:g().id,children:`${t.id}`})]}),(0,s.jsxs)("div",{className:g().itemMeta,children:[s.jsx("p",{children:`ID: ${t.id}`}),s.jsx("p",{children:`Payment Intent: ${t.stripePaymentIntentID}`}),s.jsx("p",{children:`Ordered On: ${(0,_.o)(t.createdAt)}`}),(0,s.jsxs)("p",{className:g().total,children:["Total: ",new Intl.NumberFormat("en-US",{style:"currency",currency:"usd"}).format(t.total/100)]})]}),s.jsx(c.HR,{}),(0,s.jsxs)("div",{className:g().order,children:[s.jsx("h4",{className:g().orderItems,children:"Items"}),t.items?.map((e,r)=>{if("object"==typeof e.product){let{quantity:i,product:a,product:{id:d,title:l,meta:_,stripeProductID:u}}=e,h=r===(t?.items?.length||0)-1,x=_?.image;return s.jsxs(n.Fragment,{children:[s.jsxs("div",{className:g().row,children:[s.jsxs(o(),{href:`/products/${a.slug}`,className:g().mediaWrapper,children:[!x&&s.jsx("span",{className:g().placeholder,children:"No image"}),x&&"string"!=typeof x&&s.jsx(p.p,{className:g().media,imgClassName:g().image,resource:x,fill:!0})]}),s.jsxs("div",{className:g().rowContent,children:[!u&&s.jsxs("p",{className:g().warning,children:["This product is not yet connected to Stripe. To link this product, ",s.jsx(o(),{href:`http://localhost:3000/admin/collections/products/${d}`,children:"edit this product in the admin panel"}),"."]}),s.jsx("h5",{className:g().title,children:s.jsx(o(),{href:`/products/${a.slug}`,className:g().titleLink,children:l})}),s.jsx("p",{children:`Quantity: ${i}`}),s.jsx(m.t,{product:a,button:!1,quantity:i})]})]}),!h&&s.jsx(c.HR,{})]},r)}return null})]}),s.jsx(c.HR,{}),(0,s.jsxs)("div",{className:g().actions,children:[s.jsx(d.z,{href:"/orders",appearance:"primary",label:"See all orders"}),s.jsx(d.z,{href:"/account",appearance:"secondary",label:"Go to account"})]})]})}async function v({params:{id:e}}){return{title:`Order ${e}`,description:`Order details for order ${e}.`,openGraph:(0,h.T)({title:`Order ${e}`,url:`/orders/${e}`})}}},49267:(e,r,t)=>{"use strict";t.d(r,{HR:()=>o});var s=t(48144);t(53830);var n=t(39593),i=t.n(n);let o=e=>{let{className:r}=e;return s.jsx("hr",{className:[r,i().hr].filter(Boolean).join(" ")})}},80623:(e,r,t)=>{"use strict";t.d(r,{t:()=>a});var s=t(17536);let n=(0,s.createProxy)(String.raw`C:\Users\eslam\OneDrive\سطح المكتب\cv\full-stack-e-commerce-with-next-14\src\app\_components\Price\index.tsx`),{__esModule:i,$$typeof:o}=n;n.default,n.priceFromJSON;let a=n.Price}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4650,2560,6724,3497,9859,6465,1840,8667,5072,12,9974,6355,2632],()=>t(73352));module.exports=s})();