(()=>{var e={};e.id=1826,e.ids=[1826],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},98578:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>m});var t=s(73137),a=s(54647),o=s(4183),n=s.n(o),i=s(71775),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let c=t.AppPageRouteModule,m=["",{children:["(pages)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,95629)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\login\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(s.bind(s,45653)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,82645)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\login\\page.tsx"],u="/(pages)/login/page",g={require:s,loadChunk:()=>Promise.resolve()},p=new c({definition:{kind:a.x.APP_PAGE,page:"/(pages)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},82791:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,25251,23)),Promise.resolve().then(s.t.bind(s,41297,23)),Promise.resolve().then(s.t.bind(s,42796,23)),Promise.resolve().then(s.bind(s,33264)),Promise.resolve().then(s.bind(s,65977))},65977:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>x});var t=s(60080),a=s(9885),o=s.n(a),n=s(66558),i=s(11440),l=s.n(i),c=s(57114),m=s(39496),d=s(92672),u=s(42655),g=s(8693),p=s(39261),h=s.n(p);let x=()=>{let e=(0,c.useSearchParams)(),r=e.toString()?`?${e.toString()}`:"",s=(0,a.useRef)(e.get("redirect")),{login:i}=(0,g.a)(),p=(0,c.useRouter)(),[x,_]=o().useState(null),{register:v,handleSubmit:f,formState:{errors:w,isLoading:b}}=(0,n.cI)(),j=(0,a.useCallback)(async e=>{try{await i(e),s?.current?p.push(s.current):p.push("/"),window.location.href="/"}catch(e){_("There was an error with the credentials provided. Please try again.")}},[i,p]);return(0,t.jsxs)("form",{onSubmit:f(j),className:h().form,children:[(0,t.jsxs)("p",{children:["This is where your customers will login to manage their account, review their order history, and more. To manage all users, ",t.jsx(l(),{href:"/admin/collections/users",children:"login to the admin dashboard"}),"."]}),t.jsx(u.v,{error:x,className:h().message}),t.jsx(d.I,{name:"email",label:"Email Address",required:!0,register:v,error:w.email,type:"email"}),t.jsx(d.I,{name:"password",type:"password",label:"Password",required:!0,register:v,error:w.password}),t.jsx(m.Button,{type:"submit",appearance:"primary",label:b?"Processing":"Login",disabled:b,className:h().submit}),(0,t.jsxs)("div",{className:h().links,children:[t.jsx(l(),{href:`/create-account${r}`,children:"Create an account"}),t.jsx("br",{}),t.jsx(l(),{href:`/recover-password${r}`,children:"Recover your password"})]})]})}},39261:e=>{e.exports={form:"LoginForm_form__hRhV7",submit:"LoginForm_submit__6onyZ",message:"LoginForm_message__zgJb0",links:"LoginForm_links__rsyN7"},e.exports.__checksum="16b3f59e5589"},23361:e=>{e.exports={login:"login_login__feCRA",formTitle:"login_formTitle__y5frD",heroImg:"login_heroImg__MA8Ld",logo:"login_logo__169VG",formWrapper:"login_formWrapper__cwzln",formContainer:"login_formContainer__mp_vh",params:"login_params__6nyBj"},e.exports.__checksum="5cb34d757c47"},95629:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f,metadata:()=>w});var t=s(48144);s(53830);var a=s(75042),o=s.n(a),n=s(44602),i=s.n(n),l=s(28996),c=s(97979),m=s(1978),d=s(62208),u=s(17536);let g=(0,u.createProxy)(String.raw`C:\Users\eslam\OneDrive\سطح المكتب\cv\full-stack-e-commerce-with-next-14\src\app\(pages)\login\LoginForm\index.tsx`),{__esModule:p,$$typeof:h}=g,x=g.default;var _=s(23361),v=s.n(_);async function f(){await (0,m.S)({validUserRedirect:`/account?warning=${encodeURIComponent("You are already logged in.")}`});let e=null,r=null,s=null;try{e=(await (0,l.UZ)()).settings.loginImage.url,r=await (0,l.Qi)(),s=r?.logo}catch(e){console.error(e)}return(0,t.jsxs)("section",{className:v().login,style:{"--mytest-image":`url(${e})`},children:[t.jsx("div",{className:v().heroImg,style:{backgroundImage:`url(${e})`},children:t.jsx(i(),{href:"/",children:t.jsx(o(),{src:s?.url||"/logo-black.svg",width:250,height:23,alt:"logo",className:v().logo})})}),t.jsx("div",{className:v().formWrapper,children:(0,t.jsxs)("div",{className:v().formContainer,children:[t.jsx(c.n,{className:v().params}),(0,t.jsxs)("div",{className:v().formTitle,children:[t.jsx("h3",{children:"Welcome"}),t.jsx(o(),{src:"/assets/icons/hand.png",alt:"welcome",width:30,height:30})]}),t.jsx("p",{children:"Please login here"}),t.jsx(x,{})]})})]})}let w={title:"Login",description:"Login or create an account to get started.",openGraph:(0,d.T)({title:"Login",url:"/login"})}},1978:(e,r,s)=>{"use strict";s.d(r,{S:()=>o});var t=s(59859),a=s(6465);let o=async e=>{let{nullUserRedirect:r,validUserRedirect:s}=e||{},o=(0,t.cookies)(),n=o.get("payload-token")?.value,i=await fetch("http://localhost:3000/api/users/me",{headers:{Authorization:`JWT ${n}`}}),{user:l}=await i.json();return s&&i.ok&&l&&(0,a.redirect)(s),!r||i.ok&&l||(0,a.redirect)(r),{user:l,token:n}}}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[4650,2560,6724,3497,9859,6465,9928,6558,1840,8667,5072,7433,2672],()=>s(98578));module.exports=t})();