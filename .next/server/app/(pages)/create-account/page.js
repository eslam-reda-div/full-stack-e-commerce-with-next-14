(()=>{var e={};e.id=3784,e.ids=[3784],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},24949:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>m,routeModule:()=>h,tree:()=>u});var a=t(73137),s=t(54647),n=t(4183),o=t.n(n),c=t(71775),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);t.d(r,i);let l=a.AppPageRouteModule,u=["",{children:["(pages)",{children:["create-account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,36389)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\create-account\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(t.bind(t,45653)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,82645)),"C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\eslam\\OneDrive\\سطح المكتب\\cv\\full-stack-e-commerce-with-next-14\\src\\app\\(pages)\\create-account\\page.tsx"],d="/(pages)/create-account/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new l({definition:{kind:s.x.APP_PAGE,page:"/(pages)/create-account/page",pathname:"/create-account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},11654:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,25251,23)),Promise.resolve().then(t.t.bind(t,41297,23)),Promise.resolve().then(t.t.bind(t,42796,23)),Promise.resolve().then(t.bind(t,33264)),Promise.resolve().then(t.bind(t,78697))},78697:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(60080),s=t(9885),n=t(66558),o=t(11440),c=t.n(o),i=t(57114),l=t(39496),u=t(92672),m=t(42655),d=t(8693),p=t(76025),h=t.n(p);let g=()=>{let e=(0,i.useSearchParams)(),r=e.toString()?`?${e.toString()}`:"",{login:t}=(0,d.a)(),o=(0,i.useRouter)(),[p,g]=(0,s.useState)(!1),[x,_]=(0,s.useState)(null),{register:f,handleSubmit:v,formState:{errors:w},watch:b}=(0,n.cI)(),y=(0,s.useRef)({});y.current=b("password","");let j=(0,s.useCallback)(async r=>{let a=await fetch("http://localhost:3000/api/users",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});if(!a.ok){let e=a.statusText||"There was an error creating the account.";_(e);return}let s=e.get("redirect"),n=setTimeout(()=>{g(!0)},1e3);try{await t(r),clearTimeout(n),s?o.push(s):o.push("/"),window.location.href="/"}catch(e){clearTimeout(n),_("There was an error with the credentials provided. Please try again.")}},[t,o,e]);return(0,a.jsxs)("form",{onSubmit:v(j),className:h().form,children:[(0,a.jsxs)("p",{children:["This is where new customers can signup and create a new account. To manage all users, ",a.jsx(c(),{href:"/admin/collections/users",children:"login to the admin dashboard"}),"."]}),a.jsx(m.v,{error:x,className:h().message}),a.jsx(u.I,{name:"name",label:"Full name",required:!0,register:f,error:w.name,type:"text"}),a.jsx(u.I,{name:"email",label:"Email Address",required:!0,register:f,error:w.email,type:"email"}),a.jsx(u.I,{name:"phone",label:"Phone number",required:!0,register:f,error:w.phone,type:"text"}),a.jsx(u.I,{name:"password",type:"password",label:"Password",required:!0,register:f,error:w.password}),a.jsx(u.I,{name:"passwordConfirm",type:"password",label:"Confirm Password",required:!0,register:f,validate:e=>e===y.current||"The passwords do not match",error:w.passwordConfirm}),a.jsx(l.Button,{type:"submit",label:p?"Processing":"Sign up",disabled:p,appearance:"primary",className:h().submit}),(0,a.jsxs)("div",{children:["Already have an account? ",a.jsx(c(),{href:`/login${r}`,children:"Login"})]})]})}},76025:e=>{e.exports={form:"CreateAccountForm_form__KJYsi",submit:"CreateAccountForm_submit__pbvnx",message:"CreateAccountForm_message__I5EmR"},e.exports.__checksum="bc1d4c74d1f1"},8782:e=>{e.exports={createAccount:"create-account_createAccount__YcP3l",formTitle:"create-account_formTitle__2Rzoe",handImg:"create-account_handImg__mGHRh",heroImg:"create-account_heroImg__OrQVJ",logo:"create-account_logo__myQMC",formWrapper:"create-account_formWrapper__nrKMK",formContainer:"create-account_formContainer__4W0qy",params:"create-account_params__j1Cbg"},e.exports.__checksum="49f0c9532775"},36389:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v,metadata:()=>w});var a=t(48144);t(53830);var s=t(75042),n=t.n(s),o=t(44602),c=t.n(o),i=t(28996),l=t(97979),u=t(1978),m=t(62208),d=t(17536);let p=(0,d.createProxy)(String.raw`C:\Users\eslam\OneDrive\سطح المكتب\cv\full-stack-e-commerce-with-next-14\src\app\(pages)\create-account\CreateAccountForm\index.tsx`),{__esModule:h,$$typeof:g}=p,x=p.default;var _=t(8782),f=t.n(_);async function v(){await (0,u.S)({validUserRedirect:`/account?warning=${encodeURIComponent("Cannot create a new account while logged in, please log out and try again.")}`});let e=null,r=null,t=null;try{e=(await (0,i.UZ)()).settings.SignUpImage.url,r=await (0,i.Qi)(),t=r?.logo}catch(e){console.error(e)}return(0,a.jsxs)("section",{className:f().createAccount,style:{"--mytest-image":`url(${e})`},children:[a.jsx("div",{className:f().heroImg,style:{backgroundImage:`url(${e})`},children:a.jsx(c(),{href:"/",children:a.jsx(n(),{src:t?.url||"/logo-black.svg",width:250,height:23,alt:"logo",className:f().logo})})}),a.jsx("div",{className:f().formWrapper,children:(0,a.jsxs)("div",{className:f().formContainer,children:[a.jsx(l.n,{className:f().params}),(0,a.jsxs)("div",{className:f().formTitle,children:[a.jsx("h3",{children:"Create Account"}),a.jsx(n(),{src:"/assets/icons/hand.png",alt:"welcome",width:30,height:30})]}),a.jsx("p",{children:"Please enter details"}),a.jsx(x,{})]})})]})}let w={title:"Account",description:"Create an account or log in to your existing account.",openGraph:(0,m.T)({title:"Account",url:"/account"})}},1978:(e,r,t)=>{"use strict";t.d(r,{S:()=>n});var a=t(59859),s=t(6465);let n=async e=>{let{nullUserRedirect:r,validUserRedirect:t}=e||{},n=(0,a.cookies)(),o=n.get("payload-token")?.value,c=await fetch("http://localhost:3000/api/users/me",{headers:{Authorization:`JWT ${o}`}}),{user:i}=await c.json();return t&&c.ok&&i&&(0,s.redirect)(t),!r||c.ok&&i||(0,s.redirect)(r),{user:i,token:o}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[4650,2560,6724,3497,9859,6465,9928,6558,1840,8667,5072,7433,2672],()=>t(24949));module.exports=a})();