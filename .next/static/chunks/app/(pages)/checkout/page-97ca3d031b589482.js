(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[927],{6974:function(e,t,r){!function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=o){var a=[],c=!0,i=!1;try{for(o=o.call(e);!(c=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==o.return||o.return()}finally{if(i)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(){}function u(){}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,u.resetWarningCache=s;var l,d,p=(l=d={exports:{}},d.exports,l.exports=function(){function e(e,t,r,n,o,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:s};return r.PropTypes=r,r}(),d.exports),f=function(e){var r=t.useRef(e);return t.useEffect(function(){r.current=e},[e]),r.current},m=function(e){return null!==e&&"object"===o(e)},h="[object Object]",g=function e(t,r){if(!m(t)||!m(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var o=Object.prototype.toString.call(t)===h;if(o!==(Object.prototype.toString.call(r)===h))return!1;if(!o&&!n)return t===r;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(var i={},s=0;s<a.length;s+=1)i[a[s]]=!0;for(var u=0;u<c.length;u+=1)i[c[u]]=!0;var l=Object.keys(i);return l.length===a.length&&l.every(function(n){return e(t[n],r[n])})},y=function(e,t,r){return m(e)?Object.keys(e).reduce(function(o,c){var i=!m(t)||!g(e[c],t[c]);return r.includes(c)?(i&&console.warn("Unsupported prop change: options.".concat(c," is not a mutable property.")),o):i?n(n({},o||{}),{},a({},c,e[c])):o},null):null},_=function(e){if(null===e||m(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},v=function(e){if(m(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(_)};var t=_(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},b=t.createContext(null);b.displayName="ElementsContext";var x=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},j=t.createContext(null);j.displayName="CartElementContext";var C=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},E=function(e){var r=e.stripe,n=e.options,o=e.children,a=t.useMemo(function(){return v(r)},[r]),i=c(t.useState(null),2),s=i[0],u=i[1],l=c(t.useState(null),2),d=l[0],p=l[1],m=c(t.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(n):null}}),2),h=m[0],g=m[1];t.useEffect(function(){var e=!0,t=function(e){g(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return"async"!==a.tag||h.stripe?"sync"!==a.tag||h.stripe||t(a.stripe):a.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[a,h,n]);var _=f(r);t.useEffect(function(){null!==_&&_!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[_,r]);var x=f(n);return t.useEffect(function(){if(h.elements){var e=y(n,x,["clientSecret","fonts"]);e&&h.elements.update(e)}},[n,x,h.elements]),t.useEffect(function(){var e=h.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.16.5"}),e.registerAppInfo({name:"react-stripe-js",version:"1.16.5",url:"https://stripe.com/docs/stripe-js/react"}))},[h.stripe]),t.createElement(b.Provider,{value:h},t.createElement(j.Provider,{value:{cart:s,setCart:u,cartState:d,setCartState:p}},o))};E.propTypes={stripe:p.any,options:p.object};var k=function(e){return x(t.useContext(b),e)},S=function(e){return C(t.useContext(j),e)},w=function(e){return(0,e.children)(k("mounts <ElementsConsumer>"))};w.propTypes={children:p.func.isRequired};var P=function(e,r,n){var o=!!n,a=t.useRef(n);t.useEffect(function(){a.current=n},[n]),t.useEffect(function(){if(!o||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(r,t),function(){e.off(r,t)}},[o,r,e,a])},N=function(e,r){var n="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),o=r?function(e){k("mounts <".concat(n,">")),S("mounts <".concat(n,">"));var r=e.id,o=e.className;return t.createElement("div",{id:r,className:o})}:function(r){var o,a=r.id,i=r.className,s=r.options,u=void 0===s?{}:s,l=r.onBlur,d=r.onFocus,p=r.onReady,m=r.onChange,h=r.onEscape,g=r.onClick,_=r.onLoadError,v=r.onLoaderStart,b=r.onNetworksChange,x=r.onCheckout,j=r.onLineItemClick,C=r.onConfirm,E=r.onCancel,w=r.onShippingAddressChange,N=r.onShippingRateChange,O=k("mounts <".concat(n,">")).elements,I=c(t.useState(null),2),B=I[0],A=I[1],T=t.useRef(null),R=t.useRef(null),F=S("mounts <".concat(n,">")),L=F.setCart,D=F.setCartState;P(B,"blur",l),P(B,"focus",d),P(B,"escape",h),P(B,"click",g),P(B,"loaderror",_),P(B,"loaderstart",v),P(B,"networkschange",b),P(B,"lineitemclick",j),P(B,"confirm",C),P(B,"cancel",E),P(B,"shippingaddresschange",w),P(B,"shippingratechange",N),"cart"===e?o=function(e){D(e),p&&p(e)}:p&&(o="payButton"===e?p:function(){p(B)}),P(B,"ready",o),P(B,"change","cart"===e?function(e){D(e),m&&m(e)}:m),P(B,"checkout","cart"===e?function(e){D(e),x&&x(e)}:x),t.useLayoutEffect(function(){if(null===T.current&&O&&null!==R.current){var t=O.create(e,u);"cart"===e&&L&&L(t),T.current=t,A(t),t.mount(R.current)}},[O,u,L]);var M=f(u);return t.useEffect(function(){if(T.current){var e=y(u,M,["paymentRequest"]);e&&T.current.update(e)}},[u,M]),t.useLayoutEffect(function(){return function(){T.current&&(T.current.destroy(),T.current=null)}},[]),t.createElement("div",{id:a,className:i,ref:R})};return o.propTypes={id:p.string,className:p.string,onChange:p.func,onBlur:p.func,onFocus:p.func,onReady:p.func,onEscape:p.func,onClick:p.func,onLoadError:p.func,onLoaderStart:p.func,onNetworksChange:p.func,onCheckout:p.func,onLineItemClick:p.func,onConfirm:p.func,onCancel:p.func,onShippingAddressChange:p.func,onShippingRateChange:p.func,options:p.object},o.displayName=n,o.__elementType=e,o},O="undefined"==typeof window,I=N("auBankAccount",O),B=N("card",O),A=N("cardNumber",O),T=N("cardExpiry",O),R=N("cardCvc",O),F=N("fpxBank",O),L=N("iban",O),D=N("idealBank",O),M=N("p24Bank",O),W=N("epsBank",O),q=N("payment",O),U=N("payButton",O),z=N("paymentRequestButton",O),J=N("linkAuthentication",O),V=N("address",O),G=N("shippingAddress",O),H=N("cart",O),Q=N("paymentMethodMessaging",O),Y=N("affirmMessage",O),Z=N("afterpayClearpayMessage",O);e.AddressElement=V,e.AffirmMessageElement=Y,e.AfterpayClearpayMessageElement=Z,e.AuBankAccountElement=I,e.CardCvcElement=R,e.CardElement=B,e.CardExpiryElement=T,e.CardNumberElement=A,e.CartElement=H,e.Elements=E,e.ElementsConsumer=w,e.EpsBankElement=W,e.FpxBankElement=F,e.IbanElement=L,e.IdealBankElement=D,e.LinkAuthenticationElement=J,e.P24BankElement=M,e.PayButtonElement=U,e.PaymentElement=q,e.PaymentMethodMessagingElement=Q,e.PaymentRequestButtonElement=z,e.ShippingAddressElement=G,e.useCartElement=function(){return S("calls useCartElement()").cart},e.useCartElementState=function(){return S("calls useCartElementState()").cartState},e.useElements=function(){return k("calls useElements()").elements},e.useStripe=function(){return k("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,r(2265))},5803:function(e,t,r){Promise.resolve().then(r.t.bind(r,3388,23)),Promise.resolve().then(r.bind(r,7357)),Promise.resolve().then(r.t.bind(r,8698,23)),Promise.resolve().then(r.t.bind(r,7580,23))},2597:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return u},unstable_getImgProps:function(){return s}});let n=r(1024),o=r(3655),a=r(7707),c=r(6964),i=n._(r(5324)),s=e=>{(0,a.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,o.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},u=c.Image},3388:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{suspense:function(){return o},NoSSR:function(){return a}}),r(1024),r(2265);let n=r(4922);function o(){let e=Error(n.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=n.NEXT_DYNAMIC_NO_SSR_CODE,e}function a(e){let{children:t}=e;return t}},7357:function(e,t,r){"use strict";r.r(t),r.d(t,{CheckoutPage:function(){return L}});var n=r(7437),o=r(2265),a=r(6974),c="https://js.stripe.com/v3",i=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s=function(){for(var e=document.querySelectorAll('script[src^="'.concat(c,'"]')),t=0;t<e.length;t++){var r=e[t];if(i.test(r.src))return r}return null},u=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(c).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},l=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})},d=null,p=function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return l(n,r),n},f=Promise.resolve().then(function(){return null!==d?d:d=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r=s();r||(r=u(null)),r.addEventListener("load",function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))}),r.addEventListener("error",function(){t(Error("Failed to load Stripe.js"))})}catch(e){t(e);return}})}),m=!1;f.catch(function(e){m||console.warn(e)});var h=r(1396),g=r.n(h),y=r(4033),_=r(4780),v=r(119),b=r(7992),x=r(6272),j=r(8),C=r(9258),E=r.n(C),k=r(1752),S=r(3331),w=r(6361),P=r.n(w);let N=()=>{let e=(0,a.useStripe)(),t=(0,a.useElements)(),[r,c]=o.useState(null),[i,s]=o.useState(!1),u=(0,y.useRouter)(),{cart:l,cartTotal:d}=(0,x.j)(),[p,f]=o.useState("test"),m=(0,o.useCallback)(async r=>{r.preventDefault(),s(!0);try{let{error:r,paymentIntent:o}=await (null==e?void 0:e.confirmPayment({elements:t,redirect:"if_required",confirmParams:{return_url:"".concat("http://localhost:3000","/order-confirmation")}}));if(r&&(c(r.message),s(!1)),o)try{var n;let e=await fetch("".concat("http://localhost:3000","/api/orders"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({total:d.raw,address:p,stripePaymentIntentID:o.id,items:null===(n=(null==l?void 0:l.items)||[])||void 0===n?void 0:n.map(e=>{let{product:t,quantity:r}=e;return{product:"string"==typeof t?t:t.id,quantity:r,price:"object"==typeof t?(0,S.priceFromJSON)(t.priceJSON,1,!0):void 0}})})});if(!e.ok)throw Error(e.statusText||"Something went wrong.");let{error:t,doc:r}=await e.json();if(t)throw Error(t);u.push("/order-confirmation?order_id=".concat(r.id))}catch(e){console.error(e.message),u.push("/order-confirmation?error=".concat(encodeURIComponent(e.message)))}}catch(t){let e=t instanceof Error?t.message:"Something went wrong.";c("Error while submitting payment: ".concat(e)),s(!1)}},[e,t,d.raw,p,null==l?void 0:l.items,u]);return(0,n.jsxs)("form",{onSubmit:m,className:P().form,children:[r&&(0,n.jsx)(k.v,{error:r}),(0,n.jsx)(a.PaymentElement,{}),(0,n.jsx)(a.AddressElement,{options:{mode:"shipping",allowedCountries:["ُEG"],fields:{phone:"always"}},onChange:e=>{f(e.value.address.line1),console.log(p)}}),(0,n.jsxs)("div",{className:P().actions,children:[(0,n.jsx)(_.Button,{label:"Back to cart",href:"/cart",appearance:"secondary"}),(0,n.jsx)(_.Button,{label:i?"Loading...":"Checkout",type:"submit",appearance:"primary",disabled:!e||i})]})]})};var O=r(8153),I=r(6360),B=r.n(I);let A=e=>{let{product:t,title:r,metaImage:o,quantity:a,index:c}=e;return(0,n.jsxs)("li",{className:B().item,children:[(0,n.jsxs)(g(),{href:"/products/".concat(t.slug),className:B().mediaWrapper,children:[!o&&(0,n.jsx)("span",{children:"No image"}),o&&"string"!=typeof o&&(0,n.jsx)(O.p,{className:B().media,imgClassName:B().image,resource:o,fill:!0})]}),(0,n.jsxs)("div",{className:B().itemDetails,children:[(0,n.jsxs)("div",{className:B().titleWrapper,children:[(0,n.jsx)("h6",{children:r}),(0,n.jsx)(S.Price,{product:t,button:!1})]}),(0,n.jsxs)("p",{className:B().quantity,children:["x",a]})]}),(0,n.jsx)("div",{className:B().subtotal,children:(0,n.jsx)(S.Price,{product:t,button:!1,quantity:a})})]},c)};var T=r(887),R=r.n(T);let F=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];m=!0;var n=Date.now();return f.then(function(e){return p(e,t,n)})}("".concat("pk_test_51H7k5NH9RHdRyF0gLNK8qDe6NRnUQPLmVkFhL9oc24tzKouCoeoHejbeEdHvzMNJZd59acbeQtO7IcTvk3RpZieV00HnCetu07")),L=e=>{var t;let{settings:{productsPage:r}}=e,{user:c}=(0,b.a)(),i=(0,y.useRouter)(),[s,u]=o.useState(null),[l,d]=o.useState(),p=o.useRef(!1),{theme:f}=(0,j.F)(),{cart:m,cartIsEmpty:h,cartTotal:C}=(0,x.j)();return((0,o.useEffect)(()=>{null!==c&&h&&i.push("/cart")},[i,c,h]),(0,o.useEffect)(()=>{if(c&&m&&!1===p.current){p.current=!0;let e=async()=>{try{let e=await fetch("".concat("http://localhost:3000","/api/create-payment-intent"),{method:"POST",credentials:"include"}),t=await e.json();t.error?u(t.error):t.client_secret&&(u(null),d(t.client_secret))}catch(e){u("Something went wrong.")}};e()}},[m,c]),c&&F)?(0,n.jsxs)(o.Fragment,{children:[h&&(0,n.jsxs)("div",{children:["Your ",(0,n.jsx)(g(),{href:"/cart",children:"cart"})," is empty.","object"==typeof r&&(null==r?void 0:r.slug)&&(0,n.jsxs)(o.Fragment,{children:[" ",(0,n.jsx)(g(),{href:"/".concat(r.slug),children:"Continue shopping?"})]})]}),!h&&(0,n.jsxs)("div",{className:R().items,children:[(0,n.jsxs)("div",{className:R().header,children:[(0,n.jsx)("p",{children:"Products"}),(0,n.jsxs)("div",{className:R().headerItemDetails,children:[(0,n.jsx)("p",{}),(0,n.jsx)("p",{className:R().quantity,children:"Quantity"})]}),(0,n.jsx)("p",{className:R().subtotal,children:"Subtotal"})]}),(0,n.jsxs)("ul",{children:[null==m?void 0:null===(t=m.items)||void 0===t?void 0:t.map((e,t)=>{if("object"==typeof e.product){let{quantity:r,product:a,product:{title:c,meta:i}}=e;if(!r)return null;let s=null==i?void 0:i.image;return(0,n.jsx)(o.Fragment,{children:(0,n.jsx)(A,{product:a,title:c,metaImage:s,quantity:r,index:t})},t)}return null}),(0,n.jsxs)("div",{className:R().orderTotal,children:[(0,n.jsx)("p",{children:"Order Total"}),(0,n.jsx)("p",{children:C.formatted})]})]})]}),!l&&!s&&(0,n.jsx)("div",{className:R().loading,children:(0,n.jsx)(v.h,{number:2})}),!l&&s&&(0,n.jsxs)("div",{className:R().error,children:[(0,n.jsx)("p",{children:"Error: ".concat(s)}),(0,n.jsx)(_.Button,{label:"Back to cart",href:"/cart",appearance:"secondary"})]}),l&&(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)("h3",{className:R().payment,children:"Payment Details"}),s&&(0,n.jsx)("p",{children:"Error: ".concat(s)}),(0,n.jsx)(a.Elements,{stripe:F,options:{clientSecret:l,appearance:{theme:"stripe",variables:{colorText:"dark"===f?E().colors.base0:E().colors.base1000,fontSizeBase:"16px",fontWeightNormal:"500",fontWeightBold:"600",colorBackground:"dark"===f?E().colors.base850:E().colors.base0,fontFamily:"Inter, sans-serif",colorTextPlaceholder:E().colors.base500,colorIcon:"dark"===f?E().colors.base0:E().colors.base1000,borderRadius:"0px",colorDanger:E().colors.error500,colorDangerText:E().colors.error500}}},children:(0,n.jsx)(N,{})})]})]}):null}},1026:function(e,t,r){"use strict";r.r(t),r.d(t,{AddToCartButton:function(){return l}});var n=r(7437),o=r(2265),a=r(4033),c=r(6272),i=r(4780),s=r(7646),u=r.n(s);let l=e=>{let{product:t,quantity:r=1,className:s,appearance:l="primary"}=e,{cart:d,addItemToCart:p,isProductInCart:f,hasInitializedCart:m}=(0,c.j)(),[h,g]=(0,o.useState)(),y=(0,a.useRouter)();return(0,o.useEffect)(()=>{g(f(t))},[f,t,d]),(0,n.jsx)(i.Button,{href:h?"/cart":void 0,type:h?void 0:"button",label:h?"✓ View in cart":"Add to cart",el:h?"link":void 0,appearance:l,className:[s,u().addToCartButton,"default"===l&&h&&u().green,!m&&u().hidden].filter(Boolean).join(" "),onClick:h?void 0:()=>{p({product:t,quantity:r}),y.push("/cart")}})}},119:function(e,t,r){"use strict";r.d(t,{h:function(){return c}});var n=r(7437);r(2265);var o=r(1999),a=r.n(o);let c=e=>{let t=Array.from(Array(e.number||1).keys());return(0,n.jsx)("div",{className:a().loading,children:t.map((e,t)=>(0,n.jsx)("div",{className:a().shimmer},t))})}},9582:function(e,t,r){"use strict";r.r(t),r.d(t,{Image:function(){return p}});var n=r(7437),o=r(2265),a=r(6691),c=r.n(a),i=r(9258),s=r.n(i),u=r(8526),l=r.n(u);let{breakpoints:d}=s(),p=e=>{let t,r;let{imgClassName:a,onClick:i,onLoad:s,resource:u,priority:p,fill:f,src:m,alt:h}=e,[g,y]=o.useState(!0),_=h,v=m||"";if(!v&&u&&"string"!=typeof u){let{width:e,height:n,filename:o,alt:a}=u;t=e,r=n,_=a,v="".concat("http://localhost:3000","/media/").concat(o)}let b=Object.entries(d).map(e=>{let[,t]=e;return"(max-width: ".concat(t,"px) ").concat(t,"px")}).join(", ");return(0,n.jsx)(c(),{className:[g&&l().placeholder,l().image,a].filter(Boolean).join(" "),src:v,alt:_||"",onClick:i,onLoad:()=>{y(!1),"function"==typeof s&&s()},fill:f,width:f?void 0:t,height:f?void 0:r,sizes:b,priority:p})}},7979:function(e,t,r){"use strict";r.r(t),r.d(t,{Video:function(){return i}});var n=r(7437),o=r(2265),a=r(109),c=r.n(a);let i=e=>{let{videoClassName:t,resource:r,onClick:a}=e,i=(0,o.useRef)(null);if((0,o.useEffect)(()=>{let{current:e}=i;e&&e.addEventListener("suspend",()=>{})},[]),r&&"string"!=typeof r){let{filename:e}=r;return(0,n.jsx)("video",{playsInline:!0,autoPlay:!0,muted:!0,loop:!0,controls:!1,className:[c().video,t].filter(Boolean).join(" "),onClick:a,ref:i,children:(0,n.jsx)("source",{src:"".concat("http://localhost:3000","/media/").concat(e)})})}return null}},8153:function(e,t,r){"use strict";r.d(t,{p:function(){return i}});var n=r(7437),o=r(2265),a=r(9582),c=r(7979);let i=e=>{var t;let{className:r,resource:i,htmlElement:s="div"}=e,u="string"!=typeof i&&(null==i?void 0:null===(t=i.mimeType)||void 0===t?void 0:t.includes("video")),l=s||o.Fragment;return(0,n.jsx)(l,{...null!==s?{className:r}:{},children:u?(0,n.jsx)(c.Video,{...e}):(0,n.jsx)(a.Image,{...e})})}},1752:function(e,t,r){"use strict";r.d(t,{v:function(){return c}});var n=r(7437);r(2265);var o=r(4690),a=r.n(o);let c=e=>{let{message:t,error:r,success:o,warning:c,className:i}=e,s=t||r||o||c;return s?(0,n.jsx)("div",{className:[a().message,i,r&&a().error,o&&a().success,c&&a().warning,!r&&!o&&!c&&a().default].filter(Boolean).join(" "),children:s}):null}},3331:function(e,t,r){"use strict";r.r(t),r.d(t,{Price:function(){return l},priceFromJSON:function(){return u}});var n=r(7437),o=r(2265),a=r(1026),c=r(4728),i=r(5791),s=r.n(i);let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n="";if(e)try{var o;let a=null===(o=JSON.parse(e))||void 0===o?void 0:o.data[0],c=a.unit_amount*t,i=a.type;if(r)return c.toString();n=(c/100).toLocaleString("en-US",{style:"currency",currency:"USD"}),"recurring"===i&&(n+="/".concat(a.recurring.interval_count>1?"".concat(a.recurring.interval_count," ").concat(a.recurring.interval):a.recurring.interval))}catch(e){console.error("Cannot parse priceJSON")}return n},l=e=>{let{product:t,product:{priceJSON:r}={},button:i="addToCart",quantity:l}=e,[d,p]=(0,o.useState)(()=>({actualPrice:u(r),withQuantity:u(r,l)}));return(0,o.useEffect)(()=>{p({actualPrice:u(r),withQuantity:u(r,l)})},[r,l]),(0,n.jsxs)("div",{className:s().actions,children:[void 0!==(null==d?void 0:d.actualPrice)&&(null==d?void 0:d.withQuantity)!==""&&(0,n.jsxs)("div",{className:s().price,children:[(0,n.jsx)("p",{children:null==d?void 0:d.withQuantity}),l>1&&(0,n.jsx)("small",{className:s().priceBreakdown,children:"".concat(d.actualPrice," x ").concat(l)})]}),i&&"addToCart"===i&&(0,n.jsx)(a.AddToCartButton,{product:t,appearance:"default"}),i&&"removeFromCart"===i&&(0,n.jsx)(c.O,{product:t})]})}},4728:function(e,t,r){"use strict";r.d(t,{O:function(){return u}});var n=r(7437);r(2265);var o=r(6691),a=r.n(o),c=r(6272),i=r(1025),s=r.n(i);let u=e=>{let{className:t,product:r}=e,{deleteItemFromCart:o,isProductInCart:i}=(0,c.j)(),u=i(r);return u?(0,n.jsx)("button",{type:"button",onClick:()=>{o(r)},className:[t,s().removeFromCartButton].filter(Boolean).join(" "),children:(0,n.jsx)(a(),{src:"/assets/icons/delete.svg",alt:"delete",width:24,height:24,className:s().qtnBt})}):(0,n.jsx)("div",{children:"Item is not in the cart"})}},8:function(e,t,r){"use strict";r.d(t,{f:function(){return l},F:function(){return d}});var n=r(7437),o=r(2265),a=!!window.document&&!!window.document.createElement;let c="payload-theme",i="light",s=()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t="boolean"==typeof e.matches;return t?e.matches?"dark":"light":null},u=(0,o.createContext)({theme:void 0,setTheme:()=>null}),l=e=>{let{children:t}=e,[r,l]=(0,o.useState)(a?document.documentElement.getAttribute("data-theme"):void 0),d=(0,o.useCallback)(e=>{if(null===e){window.localStorage.removeItem(c);let e=s();document.documentElement.setAttribute("data-theme",e||""),e&&l(e)}else l(e),window.localStorage.setItem(c,e),document.documentElement.setAttribute("data-theme",e)},[]);return(0,o.useEffect)(()=>{let e=window.localStorage.getItem(c);e&&["light","dark"].includes(e)||s(),document.documentElement.setAttribute("data-theme",i),l(i)},[]),(0,n.jsx)(u.Provider,{value:{theme:i,setTheme:d},children:t})},d=()=>(0,o.useContext)(u)},9258:function(e){"use strict";e.exports={breakpoints:{s:768,m:1024,l:1440},colors:{base0:"rgb(255, 255, 255)",base100:"rgb(235, 235, 235)",base500:"rgb(128, 128, 128)",base850:"rgb(34, 34, 34)",base1000:"rgb(0, 0, 0)",error500:"rgb(255, 111, 118)"}}},6361:function(e){e.exports={form:"CheckoutForm_form__UhcpU",actions:"CheckoutForm_actions__dvYjH"},e.exports.__checksum="fb8b0974694e"},6360:function(e){e.exports={item:"CheckoutItem_item__cxCFA",mediaWrapper:"CheckoutItem_mediaWrapper__nq8fa",media:"CheckoutItem_media__WFGoI",image:"CheckoutItem_image__zkSL6",itemDetails:"CheckoutItem_itemDetails__J6Tve",titleWrapper:"CheckoutItem_titleWrapper__LWhvI",quantity:"CheckoutItem_quantity__dlFv7",subtotal:"CheckoutItem_subtotal__8JJtA"},e.exports.__checksum="eadb4caa2a7b"},887:function(e){e.exports={items:"CheckoutPage_items__BRLyq",header:"CheckoutPage_header__uEemM",headerItemDetails:"CheckoutPage_headerItemDetails__OwApE",headersubtotal:"CheckoutPage_headersubtotal__d2wQg",subtotal:"CheckoutPage_subtotal__sG0ES",orderTotal:"CheckoutPage_orderTotal__c5Lxw",payment:"CheckoutPage_payment__mXReJ",loading:"CheckoutPage_loading__EpVBZ",error:"CheckoutPage_error__NyGE5"},e.exports.__checksum="1a79100acf15"},8698:function(e){e.exports={checkout:"checkout_checkout__iVwRz"},e.exports.__checksum="3f688fdd884f"},7646:function(e){e.exports={addToCartButton:"AddToCartButton_addToCartButton__ba4Xy",green:"AddToCartButton_green__q21WF",hidden:"AddToCartButton_hidden__ibyZe"},e.exports.__checksum="4adaf0caf35e"},7580:function(e){e.exports={gutter:"Gutter_gutter__QB0_n",gutterLeft:"Gutter_gutterLeft__9iSai",gutterRight:"Gutter_gutterRight__4jfEx"},e.exports.__checksum="8b7edfbc03b1"},1999:function(e){e.exports={loading:"LoadingShimmer_loading__sK7Rg",shimmer:"LoadingShimmer_shimmer__YtrFI"},e.exports.__checksum="358a41a4d388"},8526:function(e){e.exports={"placeholder-color-light":"Image_placeholder-color-light__lcTS4",placeholder:"Image_placeholder__kc6oy"},e.exports.__checksum="bff28190860e"},109:function(e){e.exports={video:"Video_video__skdZH",cover:"Video_cover__hLu9Z"},e.exports.__checksum="dcb66e910fe4"},4690:function(e){e.exports={message:"Message_message__z1tdG",default:"Message_default__RDDb4",warning:"Message_warning__FT9n8",error:"Message_error__WX2fA",success:"Message_success__Cnnxv"},e.exports.__checksum="e7c05ffe3613"},5791:function(e){e.exports={actions:"Price_actions__rvC2d",price:"Price_price__IhTq2",priceBreakdown:"Price_priceBreakdown__CyGIM"},e.exports.__checksum="4d85f4afbe44"},1025:function(e){e.exports={removeFromCartButton:"RemoveFromCartButton_removeFromCartButton__zL8ZZ"},e.exports.__checksum="99026e36ecda"},6691:function(e,t,r){e.exports=r(2597)},1396:function(e,t,r){e.exports=r(4724)},4033:function(e,t,r){e.exports=r(290)}},function(e){e.O(0,[724,54,408,971,864,744],function(){return e(e.s=5803)}),_N_E=e.O()}]);